var game={now:(new Date).getTime(),before:(new Date).getTime(),version:.21,fps:30,interval:1e3,intervals:{core:void 0,save:void 0},theme:"snow",core:function(){game.now=(new Date).getTime();var e=game.now-game.before,a=Math.floor(e/game.interval);e>game.interval?game.update(a):game.update(1),game.before=(new Date).getTime()},update:function(e){game.hack.loop(e),game.virus.loop(e),game.hack.hackerLoop(e),game.kongregate.bonusTimeLoop(e),game.display()},display:function(){$("#stats-money").html("Money: $"+fix(game.player.money)),$("#stats-level").html("Level: "+game.player.level),$("#stats-exp").html("Exp: "+fix(game.player.exp,0)+"/"+fix(game.player.expReq,0)),$("#stats-reputation").html("Reputation: "+fix(game.player.reputation)),$("#stats-moneymult").html("Money mult: x"+fix(game.player.getGlobalMoneyMult())),$("#stats-expmult").html("Exp mult: x"+fix(game.player.getGlobalExpMult())),$("#stats-timemult").html("Time mult: /"+fix(game.player.getGlobalTimeMult())),$("#stats-totalmoney").html("Total money: $"+fix(game.player.totalMoney)),$("#stats-prestigied").html("Prestigied: "+fix(game.player.prestigied,0)+" times"),$("#stats-irccost").html("IRC cost: $"+fix(game.servers.getCost(game.servers.irc))),$("#stats-vmcost").html("VM cost: $"+fix(game.servers.getCost(game.servers.vm))),$("#stats-ircowned").html("IRC owned: "+game.servers.irc.owned),$("#stats-vmowned").html("VM owned: "+game.servers.vm.owned),$("#stats-zombieowned").html("Zombies owned: "+game.servers.zombie.owned),$("#stats-infectionspersec").html("Infections/sec: "+game.virus.getAllVirusSend()),$("#stats-botnetpower").html("Botnet power: "+fix(game.botnet.power)),$("#stats-powermult").html("Power mult: x"+fix(game.botnet.getPowerMult())),"boolean"==typeof game.kongregate.isGuest&&$("#navbar-bonustime").html("<b>x"+game.kongregate.getMult()+"</b> ads boost: "+msToTime(game.kongregate.bonusTime))},varInit:function(){game.console.varInit(),game.interval=1e3/game.fps,game.intervals.core=setInterval(function(){game.core()},game.interval),game.intervals.save=setInterval(function(){game.save.save()},game.save.interval),window.onbeforeunload=function(){game.save.save()}},domInit:function(){switch($("#game-version").html("v"+game.version),$("#console-input").bind("keydown",function(e){13==e.which&&game.console.parser()}).bind("cut copy paste",function(e){e.preventDefault()}),$(".enter").on("click",function(){game.console.parser()}),$(".blinking-arrow").on("click",function(){$("#console-input").focus()}),$("#console-input").focus(),setTimeout(function(){game.options.background||game.options.toggleBackground("disabled")},1e3),game.theme){case"default":initMatrixBackground();break;case"snow":initSnowBackground()}},init:function(){game.varInit(),game.save.load(),game.update(Math.floor((game.now-game.before)/game.interval)),game.domInit(),game.kongregate.init(),console.info("v"+game.version+":","game ready to play!")}};game.hack={isHacking:!1,currentHack:!1,hackProgress:0,getTime:function(e){return e.time/game.player.getGlobalTimeMult()},getMoney:function(e){var a=.5*Math.random();return(e.money+e.money*a)*game.player.getGlobalMoneyMult()},getExp:function(e){var a=.25*Math.random();return(e.exp+e.exp*a)*game.player.getGlobalExpMult()},buyHacker:function(e){var a=game.hack.hackers[e];game.hack.places[a.placeObject];a.owned?game.console.print("You already hired <b>"+a.readable+"</b>.","error"):game.player.money<a.price?game.console.print("You don't have enough money to hire <b>"+a.readable+"</b>.","error"):game.hack.isHacking?game.hack.currentHack.name==a.placeName&&game.console.print("You are currently hacking the place that the hacker should hack, hire him when hack is finished.","error"):(a.owned=!0,game.player.money-=a.price,game.console.print("You successfully hired <b>"+a.name+"</b> hacker."))},hackerDesc:function(e){var a=game.hack.hackers[e];return a.readable+" will hack <b>"+a.placeName+"</b>, hire him for $<b>"+fix(a.price)+"</b>."},placeDesc:function(e){var a=game.hack.places[e];return"level req. <b>"+a.levelReq+"</b>, takes <b>"+fix(game.hack.getTime(a),0)+"</b> sec, <b>≈ +$"+fix(game.hack.getMoney(a),0)+" and ≈ +"+fix(game.hack.getExp(a),0)+"</b> exp."},cancel:function(){game.hack.isHacking?game.hack.isHacking&&($("#hack-progress").html("<b>"+cap(game.hack.currentHack.name)+"</b> hack cancelled.").attr("id","old-hack-progress"),game.hack.isHacking=!1,game.hack.currentHack=void 0,game.hack.hackProgress=0):game.console.print("You are not hacking a place.","error")},basic:function(){var e=(Math.random()+1)*(150*Math.pow(1.4,game.player.level)),a=(Math.random()+1)*(25*Math.pow(1.35,game.player.level));game.player.earnExp(a),game.player.earnMoney(e),game.console.print("You gained <b>$"+fix(e)+"</b> and <b>"+fix(a)+"</b> exp.")},place:function(e){var a=game.hack.places[e];!game.hack.isHacking&&!game.virus.doingVirus&&!game.hack.hackers[a.hacker].owned&&game.player.level>=a.levelReq?(game.hack.isHacking=!0,game.hack.currentHack=a,$(".text-side").append('<p id="hack-progress">'),game.console.print("Starting "+a.name+" hack... You can cancel the hack with <b>hack place cancel</b>.")):game.virus.doingVirus?game.console.print("You can't create a virus and hack a place at the same time.","error"):game.hack.isHacking?game.console.print("You can't hack more than one place at a time.","error"):game.player.level<a.levelReq?game.console.print("Your level is too low for this place, you need to be at least level "+a.levelReq+" to hack it.","error"):game.console.print("You can't hack this place.","error")},loop:function(e){if(game.hack.isHacking){var a=game.hack.currentHack,t=game.hack.getTime(a),r=0,o=Math.floor(game.hack.hackProgress/t*100),n=Math.floor(game.hack.hackProgress/t*35),s=Math.ceil(35-n),i="|";if(game.hack.hackProgress+=e/game.fps,game.hack.hackProgress<t){for(var c=0;c<n;c++)i+="#";for(var l=0;l<s;l++)i+="=";r=t-game.hack.hackProgress,i+="| <b>"+fix(o,0)+"%, "+fix(r,2)+" sec.</b>",$("#hack-progress").html(i)}else if(game.hack.hackProgress>=t){for(var m=game.hack.getMoney(game.hack.currentHack),g=game.hack.getExp(game.hack.currentHack),p=0;p<35;p++)i+="#";i+="| <b>100%, 0.00 sec</b>",game.console.print(cap(game.hack.currentHack.readable)+" hack finished: <b>+$"+fix(m)+", +"+fix(g)+"</b> exp."),$("#hack-progress").html(i).attr("id","old-hack-progress"),game.player.earnMoney(m),game.player.earnExp(g),game.hack.isHacking=!1,game.hack.currentHack=void 0,game.hack.hackProgress=0}}},hackerLoop:function(e){for(var a in game.hack.places){var t=game.hack.places[a];if(game.hack.hackers[t.hacker].owned&&game.player.level>=t.levelReq){var r=game.hack.hackers[t.hacker],o=game.hack.getTime(t);for(r.progress+=e/game.fps;r.progress>=o;){var n=game.hack.getMoney(t),s=game.hack.getExp(t);game.player.earnMoney(n),game.player.earnExp(s),r.progress-=o}}}}},game.hack.hackers={grocer:{name:"grocer",readable:"grocer",placeObject:"grocery",placeName:"grocery",price:1e4,owned:!1,progress:0},business_man:{name:"business-man",readable:"business-man",placeObject:"business",placeName:"business",price:5e4,owned:!1,progress:0},cashier:{name:"cashier",readable:"cashier",placeObject:"market",placeName:"market",price:75e3,owned:!1,progress:0},banker:{name:"banker",readable:"banker",placeObject:"bank",placeName:"bank",price:1e6,owned:!1,progress:0},jeweler:{name:"jeweler",readable:"jeweler",placeObject:"jewelry",placeName:"jewelry",price:15e6,owned:!1,progress:0},mark:{name:"mark",readable:"Mark",placeObject:"facebook",placeName:"facebook",price:5e8,owned:!1,progress:0},steve:{name:"steve",readable:"Steve",placeObject:"apple",placeName:"apple",price:5e9,owned:!1,progress:0},larry:{name:"larry",readable:"Larry",placeObject:"google",placeName:"google",price:75e9,owned:!1,progress:0}},game.hack.places={grocery:{name:"grocery",readable:"grocery",hacker:"grocer",money:1500,exp:500,time:15,levelReq:1},business:{name:"business",readable:"business",hacker:"business_man",money:2819,exp:1628,time:49,levelReq:5},market:{name:"market",readable:"market",hacker:"cashier",money:13807,exp:6638,time:158,levelReq:10},bank:{name:"bank",readable:"bank",hacker:"banker",money:92919,exp:35334,time:515,levelReq:20},jewelry:{name:"jewelry",readable:"jewelry",hacker:"jeweler",money:915645,exp:258434,time:1673,levelReq:30},facebook:{name:"facebook",readable:"Facebook",hacker:"mark",money:14258454,exp:2758652,time:5439,levelReq:45},apple:{name:"apple",readable:"Apple",hacker:"steve",money:384491667,exp:46177388,time:17676,levelReq:60},google:{name:"google",readable:"Google",hacker:"larry",money:20038458884,exp:1320294906,time:57448,levelReq:75}},game.virus={doingVirus:!1,whatVirus:void 0,virusProgress:0,oneSecInterval:0,getTime:function(e){return e.time/game.player.getGlobalTimeMult()},getEffect:function(e){return e.effect},getTotalEffect:function(e){return getEffect(e)*e.send},getSuccessRate:function(e){return 100*e.success},getAllVirusSend:function(){var e=0;for(var a in game.virus.list)e+=game.virus.list[a].effect*game.virus.list[a].send;return e},virusDesc:function(e){var a=game.virus.list[e];return"level req. <b>"+a.reqLevel+"</b>, takes <b>"+game.virus.getTime(a)+"</b> sec, success rate of <b>"+game.virus.getSuccessRate(a)+"</b>, one "+a.name+" infect <b>"+a.effect+'</b> computers/sec. <span class="virus-factoid"><i class="fa fa-question-circle-o" aria-hidden="true"></i> <span class="virus-factoid-content"><i>'+a.factoid+"</i></span></span>"},cancel:function(){$("#virus-progress").html("Virus "+game.virus.whatVirus.name+" cancelled.").attr("id","old-virus-progress"),game.virus.doingVirus=!1,game.virus.whatVirus=void 0,game.virus.virusProgress=0},create:function(e){var a=game.virus.list[e];!game.hack.isHacking&&!game.virus.doingVirus&&game.player.level>=a.reqLevel?(game.virus.doingVirus=!0,game.virus.whatVirus=a,game.console.print("Creating "+a.name+" virus... You can cancel your virus with <b>virus create cancel</b>."),$(".text-side").append('<p id="virus-progress">')):game.hack.isHacking?game.console.print("You can't hack a place and create a virus at the same time.","error"):game.virus.doingVirus?game.console.print("You can't create multiple virus at once.","error"):game.player.level<a.reqLevel?game.console.print("Your level is too low to create this virus.","error"):game.console.print("You can't create this virus.","error")},loop:function(e){if(game.virus.oneSecInterval>=1e3?(game.virus.oneSecInterval=0,game.servers.zombie.owned+=game.virus.getAllVirusSend(),game.botnet.power=game.botnet.getPower()):game.virus.oneSecInterval+=e/game.fps*1e3,game.virus.doingVirus){var a=game.virus.whatVirus,t=game.virus.getTime(a),r=0,o=Math.floor(game.virus.virusProgress/t*100),n=Math.floor(game.virus.virusProgress/t*35),s=Math.ceil(35-n),i="|";if(game.virus.virusProgress+=e/game.fps,game.virus.virusProgress<t){for(var c=0;c<n;c++)i+="#";for(var l=0;l<s;l++)i+="=";r=t-game.virus.virusProgress,i+="| <b>"+fix(o,0)+"%, "+fix(r,2)+" sec</b>",$("#virus-progress").html(i)}else if(game.virus.virusProgress>=t){for(var m=Math.random(),g=0;g<35;g++)i+="#";i+="| <b>100%, 0.00 sec</b>",m<=a.success?(a.send++,game.console.print("Your "+a.name+" virus works well and will infect computers over time.")):game.console.print("Your "+a.name+" virus is a fail.","error"),$("#virus-progress").html(i).attr("id","old-virus-progress"),game.virus.doingVirus=!1,game.virus.whatVirus=void 0,game.virus.virusProgress=0}}}},game.virus.list={boza:{name:"boza",factoid:"Boza, also know as Bizatch, was the first virus to infect PE executable. It was discovered in 1995.",time:30,success:.25,effect:1,reqLevel:1,send:0},happy99:{name:"happy99",factoid:"Happy99 is not a destructive virus, indeed it's just a space animation pop-up.",time:210,success:.2,effect:3,reqLevel:10,send:0},memz:{name:"memz",factoid:"MEMZ is a very destructive trojan, it will overwrite your MBR (you will not be able to boot) and will display a Nyan Cat animation.",time:735,success:.25,effect:9,reqLevel:30,send:0},faggot:{name:"faggot",factoid:"Faggot is a virus that appeared on IRC. His goal is to create blue screen and delete files required to boot. This name was given by Kaspersky.",time:2572,success:.3,effect:81,reqLevel:50,send:0},magistr:{name:"magistr",factoid:"Magistr is one of the most powerful viruses that can exist. His goal is to delete random files and destroy the BIOS chip.",time:9002,success:.35,effect:6561,reqLevel:100,send:0}},game.kongregate={adAvailable:!1,onAd:!1,adsCompleted:0,bonusTime:0,bonusMult:3,boughtMults:0,getMult:function(){return game.kongregate.bonusMult+game.kongregate.boughtMults},getBonusMult:function(){return game.kongregate.bonusTime>0?game.kongregate.bonusMult+game.kongregate.boughtMults:1},init:function(){function e(){var e=kongregateAPI.getAPI();game.kongregate.isGuest=e.services.isGuest(),e.mtx.addEventListener("adsAvailable",function(){game.kongregate.adAvailable=!0,console.info("Ad available.")}),e.mtx.addEventListener("adsUnavailable",function(){game.kongregate.adAvailable=!1,console.info("Ad unavailable.")}),e.mtx.addEventListener("adOpened",function(){game.kongregate.onAd=!0}),e.mtx.addEventListener("adCompleted",function(){game.kongregate.adsCompleted++,game.kongregate.onAd=!1,game.kongregate.bonusTime+=216e5,game.console.print("Thanks, you help the developer when watching ads.")}),e.mtx.addEventListener("adAbandoned",function(){game.kongregate.onAd=!1,game.console.print("You closed the ad before it ended, you are not rewarded of your bonus.")}),e.mtx.initializeIncentivizedAds(),game.kongregate.isGuest||(game.kongregate.userId=e.services.getUserId(),game.kongregate.username=e.services.getUsername(),game.kongregate.token=e.services.getGameAuthToken())}kongregateAPI&&kongregateAPI.loadAPI(e)},submitScore:function(){},getAllMtx:function(){function e(e){if(e.success){for(var a=0;a<e.data.length;a++){var r=e.data[a];t.push(r)}return t}}if("boolean"!=typeof game.kongregate.isGuest)return void console.error("Not on Kongregate.");var a=kongregateAPI.getAPI(),t=(a.mtx.requestItemList(void 0,e),[])},buyMtx:function(e){function a(a){if(!a.success)return void game.console.print("Purchase failed, if you think this is an error, report this as a Powerup Reward bug.","error");switch(e){case"ad_mult":game.kongregate.boughtMults++,game.console.print("Your ads multiplier is now of <b>x"+game.kongregate.getMult()+"</b>.");break;case"ad_mult_x5":game.kongregate.boughtMults+=5,game.console.print("Your ads multiplier is now of <b>x"+game.kongregate.getMult()+"</b>.");break;case"black_theme":game.console.black=!0,game.console.print("To enable your theme, write <b>option theme black</b>.");break;case"monokai_theme":game.console.monokai=!0,game.console.print("To enable your theme, write <b>option theme monokai</b>.");break;case"afterglow_theme":game.console.afterglow=!0,game.console.print("To enable your theme, write <b>option theme afterglow</b>.");break;case"fluoro_theme":game.console.fluoro=!0,game.console.print("To enable your theme, write <b>option theme fluoro</b>.")}}if("boolean"!=typeof game.kongregate.isGuest)return void game.console.print("This feature is only available for Kongregate players.","error");var t=kongregateAPI.getAPI();t.mtx.purchaseItems([e],a)},watch:function(){if("boolean"!=typeof game.kongregate.isGuest)game.console.print("You need to play on Kongregate to enable this functionnality.","error");else{var e=kongregateAPI.getAPI();game.kongregate.adAvailable?e.mtx.showIncentivizedAd():game.console.print("Sorry, no ads available, try again later.","error")}},bonusTimeLoop:function(e){game.kongregate.bonusTime>0?game.kongregate.bonusTime-=e/game.fps*1e3:game.kongregate.bonusTime<=0&&(game.kongregate.bonusTime=0)}},game.player={money:0,totalMoney:0,reputation:0,level:1,exp:0,expReq:1e3,expInflation:1.5,power:0,prestigied:0,getGlobalMoneyMult:function(){var e=game.servers.getTotalEffects(game.servers.irc).moneyEffect,a=game.kongregate.getBonusMult();return e*a},getGlobalExpMult:function(){var e=game.servers.getTotalEffects(game.servers.irc).expEffect,a=game.kongregate.getBonusMult();return e*a},getGlobalTimeMult:function(){var e=game.servers.getTotalEffects(game.servers.vm).timeEffect;return e},earnMoney:function(e){game.player.money+=e,game.player.totalMoney+=e},earnExp:function(e){for(game.player.exp+=e;game.player.exp>=game.player.expReq;)game.player.level++,game.player.exp-=game.player.expReq,game.player.expReq=Math.floor(1e3*Math.pow(game.player.expInflation,game.player.level)),game.console.print("Level-up, you are now level <b>"+game.player.level+"</b>.")}},game.servers={vm:{name:"vm",owned:0,price:1e6,inflation:5.5,timeEffect:.25,maxCount:50,buyable:!0},irc:{name:"irc",owned:0,price:1e4,inflation:1.23,moneyEffect:1.15,expEffect:.75,maxCount:1e6,buyable:!0},zombie:{name:"zombie",owned:0,powerEffect:.1,buyable:!1},getCost:function(e){return e.owned<1?e.price:e.price*Math.pow(e.owned,e.inflation)},getEffects:function(e){var a=[],t={};for(var r in e)r.indexOf("Effect")>-1&&a.push(r);for(var o=0;o<a.length;o++)t[a[o]]=e[a[o]];return t},getTotalEffects:function(e){var a=[],t={};for(var r in e)r.indexOf("Effect")>-1&&a.push(r);for(var o=0;o<a.length;o++)t[a[o]]=e[a[o]]*e.owned+1;return t},buy:function(e){var a=game.servers[e];game.player.money>=game.servers.getCost(a)&&a.owned+1<a.maxCount&&a.buyable?(game.player.money-=game.servers.getCost(a),a.owned++,game.servers.priceUpdate(),game.console.print("You successfully bought <b>1 "+a.name+"</b> server.")):a.buyable?game.player.money<game.servers.getCost(a)?game.console.print("Not enough money, you need $<b>"+fix(game.servers.getCost(a))+"</b>.","error"):game.console.print("Can't buy server."):game.console.print("You can't buy this type of server.","error")},priceUpdate:function(){game.console.commands.filter(function(e){"buy"==e.name&&e.commands.filter(function(e){0==e.id&&(e.optionsDesc[0]="VM servers decrease time required to hack a place by <b>25%</b>. Cost $<b>"+fix(game.servers.getCost(game.servers.vm))+"</b>.",e.optionsDesc[1]="IRC servers increase your money multiplier by +<b>"+game.servers.getEffects(game.servers.irc).moneyEffect+"</b>, same for experience multiplier by +<b>"+game.servers.getEffects(game.servers.irc).expEffect+"</b>. Cost $<b>"+fix(game.servers.getCost(game.servers.irc))+"</b>.")})})}},game.botnet={power:0,getPowerMult:function(){return 1},getPower:function(){return.1*game.servers.zombie.owned*game.botnet.getPowerMult()}},game.console={monokai:!1,black:!1,afterglow:!1,fluoro:!1,getFirstWord:function(e){var a=e.indexOf(" "),t=e.substring(0,a>0?a:e.length);return t},parser:function(str){var str="string"!=typeof str?str=$("#console-input").val():null,firstWord=game.console.getFirstWord(str),emptyRegex=/^\s*$/,commandIndex=null,error=[!1,!1,!1,!1,!1];if(emptyRegex.test(str))return error[0]=1,void game.console.handler(str,error);for(var i=0;i<game.console.commands.length;i++){var commandRegex=new RegExp(game.console.commands[i].pattern);if(commandRegex.test(firstWord)){commandIndex=i;break}}if("number"!=typeof commandIndex)return error[1]=!0,void game.console.handler(str,error);var splitted=str.split(" "),command=game.console.commands[commandIndex],argument=command.pattern.indexOf("[\\w]");if(1!=splitted.length||command.optionsNeeded){if(1==splitted.length&&command.optionsNeeded)return error[2]=!0,void game.console.handler(str,error);if(splitted.length>1&&!command.optionsNeeded)return error[3]=!0,void game.console.handler(str,error);if(splitted.length>1&&command.optionsNeeded){var found=!1;command.commands.filter(function(cmd){if("object"==typeof cmd.options){var rightOption;if("userinput"==cmd.options[0])"number"==cmd.userInputExpected&&(rightOption=parseInt(splitted[cmd.optionIndex]));else for(var i=0;i<cmd.options.length;i++)splitted[cmd.optionIndex]==cmd.options[i]&&(rightOption=cmd.options[i]);if("string"==typeof rightOption||"number"==typeof rightOption){var pattern=cmd.pattern,newPattern=pattern.substring(0,pattern.indexOf("[\\w]"))+rightOption+pattern.substring(pattern.indexOf("[\\w]")+4,pattern.length),newPatternRegex=new RegExp(newPattern);return error=[!1,!1,!1,!1,!1],void(newPatternRegex.test(str)&&(found=!0,$("#console-input").val(""),eval(cmd.execute)(rightOption)))}}else{var cmdRegex=new RegExp(cmd.pattern);if(found)return;cmdRegex.test(str)?(error=[!1,!1,!1,!1,!1],found=!0,$("#console-input").val(""),eval(cmd.execute)):found||(error[4]=!0)}}),game.console.handler(str,error)}}else error=[!1,!1,!1,!1,!1],$("#console-input").val(""),eval(command.execute)},handler:function(e,a,t){var r=game.console.getFirstWord(e);switch(a.join("-")){case"true-false-false-false-false":game.console.print("You can't send empty commands.","error");break;case"false-true-false-false-false":game.console.print("<b>"+r+"</b> is not reconized as a command.","error");break;case"false-false-true-false-false":game.console.print("<b>"+r+"</b> command need options.","error");break;case"false-false-false-true-false":game.console.print("<b>"+r+"</b> command don't need options and/or arguments.","error");break;case"false-false-false-false-true":game.console.print("Unknown option/argument or option/argument missing/not expected here, try <b>"+r+" -help</b>.","error")}$("#console-input").val("")},print:function(e,a){var t=Math.floor(1e6*Math.random()),r=0;$(".text-side > div").each(function(){r+=$(this).height()}),r>=920&&$(".text-side > div")[0].remove(),game.hack.isHacking?$("#hack-progress").before('<div id="text-'+t+'" class="typed">'):$(".text-side").append('<div id="text-'+t+'" class="typed">'),"string"==typeof a?$("#text-"+t).append('<p class="'+a+'">'):$("#text-"+t).append("<p>"),game.options.typedEffect?$("#text-"+t+" p").typed({strings:[e],contentType:"html",typeSpeed:-30,callback:function(){$(".typed-cursor").remove(),$(".text-side").scrollTop(920)}}):($("#text-"+t+" p").html(e),$(".text-side").scrollTop(920))},detailedHelp:function(e,a){game.console.commands.filter(function(t){t.name===e&&t.commands.filter(function(e){var t=e.readable.split(" ");if(!(t.indexOf("-help")>-1))if("object"==typeof e.options&&"undefined"==typeof a)game.console.print("<b>"+e.readable+"</b>: "+e.desc);else if("object"==typeof e.options&&"string"==typeof a&&e.readable.indexOf(a)>0)for(var r=0;r<e.options.length;r++){var o=e.readable.split(" ");o[e.optionIndex]=e.options[r],o=o.join(" "),game.console.print("<b>"+o+"</b>: "+e.optionsDesc[r])}else"undefined"==typeof a&&game.console.print("<b>"+e.readable+"</b>: "+e.desc)})})},help:function(){for(var e=0;e<game.console.commands.length;e++)game.console.print("<b>"+game.console.commands[e].name+"</b>: "+game.console.commands[e].desc);game.console.print("For more in-depth help about a command, type <b>command -help</b>, it works for commands with options <b>command cmd -help</b> too.")},clear:function(){game.hack.isHacking||game.virus.doingVirus?game.console.print("You can't clear console while doing a hack/virus.","error"):$(".text-side").empty()},varInit:function(){game.console.commands.filter(function(e){"help"!=e.name&&e.optionsNeeded&&(e.commands.push({pattern:"^"+e.name+"[\\s]-help$",readable:e.name+" -help",desc:"in-depth help for "+e.name+" command.",execute:'game.console.detailedHelp("'+e.name+'")'}),e.commands.filter(function(a){if("object"==typeof a.options){var t=a.pattern.indexOf("\\s]")+3,r=a.pattern.indexOf("[\\s",t),o=a.pattern.substring(t,r);e.commands.push({pattern:"^"+e.name+"[\\s]"+o+"[\\s]-help$",readable:e.name+" "+o+" -help",desc:"in-depth help for "+e.name+" "+o+" command.",execute:'game.console.detailedHelp("'+e.name+'", "'+o+'")'})}}))})}},game.console.commands=[{name:"hack",desc:"execute hacks to earn money, gain experience and even reputation.",pattern:"^hack$",optionsNeeded:!0,commands:[{pattern:"^hack[\\s]place[\\s][\\w]$",readable:"hack place (option)",desc:"hack a specified place to earn money, experience and reputation.",execute:"game.hack.place",options:["grocery","business","market","bank","jewelry","facebook","apple","google"],optionsDesc:[game.hack.placeDesc("grocery"),game.hack.placeDesc("business"),game.hack.placeDesc("market"),game.hack.placeDesc("bank"),game.hack.placeDesc("jewelry"),game.hack.placeDesc("facebook"),game.hack.placeDesc("apple"),game.hack.placeDesc("google")],optionIndex:2},{pattern:"^hack[\\s]place[\\s]cancel$",readable:"hack place cancel",desc:"cancel your current hack.",execute:"game.hack.cancel()"},{pattern:"^hack[\\s]basic$",readable:"hack basic",desc:"execute a simple hack, a quick way to gain a small amount of money and exp.",execute:"game.hack.basic()"}]},{name:"virus",desc:"create virus, if they works well they will infect computers and transform them into zombie computers, for your needs.",pattern:"^virus$",optionsNeeded:!0,commands:[{pattern:"^virus[\\s]create[\\s][\\w]$",readable:"virus create (option)",desc:"create a virus, it has a percent to fail and take some time to make.",execute:"game.virus.create",options:["boza","happy99","memz","faggot","magistr"],optionsDesc:[game.virus.virusDesc("boza"),game.virus.virusDesc("happy99"),game.virus.virusDesc("memz"),game.virus.virusDesc("faggot"),game.virus.virusDesc("magistr")],optionIndex:2},{pattern:"^virus[\\s]create[\\s]cancel$",readable:"virus create cancel",desc:"cancel your current virus.",execute:"game.virus.cancel()"}]},{name:"buy",desc:"buy stuff to earn more money and experience.",pattern:"^buy$",optionsNeeded:!0,commands:[{id:0,pattern:"^buy[\\s]server[\\s][\\w]$",readable:"buy server (option)",desc:"buy different types of servers to buff your multipliers.",execute:"game.servers.buy",options:["vm","irc","zombie"],optionIndex:2,optionsDesc:["VM servers decrease time required to hack a place by <b>1%</b>. Cost $<b>"+fix(game.servers.getCost(game.servers.vm))+"</b>.","IRC servers increase your money multiplier by +<b>"+game.servers.getEffects(game.servers.irc).moneyEffect+"</b>, same for experience multiplier by +<b>"+game.servers.getEffects(game.servers.irc).expEffect+"</b>. Cost $<b>"+fix(game.servers.getCost(game.servers.irc))+"</b>.","Zombie servers increase your botnet power by +<b>0.1</b>, you get them when creating virus and infecting computers."]},{id:1,pattern:"^buy[\\s]hacker[\\s][\\w]$",readable:"buy hacker (option)",desc:"hire an hacker to auto-hack his specified place.",execute:"game.hack.buyHacker",options:["grocer","business_man","cashier","banker","jeweler","mark","steve","larry"],optionIndex:2,optionsDesc:[game.hack.hackerDesc("grocer"),game.hack.hackerDesc("business_man"),game.hack.hackerDesc("cashier"),game.hack.hackerDesc("banker"),game.hack.hackerDesc("jeweler"),game.hack.hackerDesc("mark"),game.hack.hackerDesc("steve"),game.hack.hackerDesc("larry")]},{id:2,pattern:"^buy[\\s]theme[\\s][\\w]$",readable:"buy theme (option)",desc:"buy terminal theme with kreds (Kongregate money).",execute:"game.kongregate.buyMtx",options:["black_theme","monokai_theme","afterglow_theme","fluoro_theme"],optionIndex:2,optionsDesc:["buy the black and white theme with a blue accentuation color for the terminal, cost <b>50 Kreds</b>.","buy the monokai theme (light blue background and text, pink and green accentuation color), cost <b>50 Kreds</b>.","buy the afterglow theme (light pink background, light orange text, pink and red accentuation colors), cost <b>50 Kreds</b>.","buy the fluoro theme (dark purple background, heavy pink text with green and orange accentuation colors), cost <b>50 Kreds</b>."]},{id:3,pattern:"^buy[\\s]ad_mult$",readable:"buy ad_mult",desc:"add +1 to the ads multiplier (available on the Kongregate version), cost 10 Kreds.",execute:'game.kongregate.buyMtx("ad_mult")'},{id:4,pattern:"^buy[\\s]ad_mult[\\s]x5$",readable:"buy ad_mult x5",desc:"add +5 to the ads multiplier (available on the Kongregate version), cost 35 Kreds.",execute:'game.kongregate.buyMtx("ad_mult_x5")'}]},{name:"option",desc:"change in-game options.",pattern:"^option$",optionsNeeded:!0,commands:[{pattern:"^option[\\s]background[\\s][\\w]$",readable:"option background (option)",desc:"enable/disable matrix background effect (can reduce lag).",execute:"game.options.toggleBackground",options:["enable","disable"],optionIndex:2,optionsDesc:["enable matrix background effect.","disable matrix background effect (can reduce lag)."]},{pattern:"^option[\\s]blackbars[\\s][\\w]$",readable:"option blackbars (option)",desc:"enable/disable blackbars effect on the terminal.",execute:"game.options.toggleBlackbars",options:["enable","disable"],optionIndex:2,optionsDesc:["enable blackbars visual effect on the terminal.","disable blackbars visual effect on the terminal."]},{pattern:"^option[\\s]typed[\\s][\\w]$",readable:"option typed (option)",desc:"enable/disable typing text effect (can reduce lag).",execute:"game.options.toggleTyped",options:["enable","disable"],optionIndex:2,optionsDesc:["enable typing text effect.","disable typing text effect (can reduce lag)."]},{pattern:"^option[\\s]fps[\\s][\\w]$",readable:"option fps (option)",desc:"change fps of the game (default is 30).",execute:"game.options.setFps",options:["userinput"],userInputExpected:"number",optionIndex:2,optionsDesc:["set your own amount of fps desired (low value can reduce lag)."]},{pattern:"^option[\\s]view[\\s][\\w]$",readable:"option view (option)",desc:"change displayed stats under the terminal.",execute:"game.options.changeStats",options:["default","servers","botnet"],optionIndex:2,optionsDesc:["default stats view.","servers stats view.","botnet stats view."]},{pattern:"^option[\\s]theme[\\s][\\w]$",readable:"option theme (option)",desc:"change the theme of the console.",execute:"game.options.changeTheme",options:["default","black","monokai","afterglow","fluoro"],optionIndex:2,optionsDesc:["The default SkidInc console theme, green and black.","Black and white theme, like in the 90s.","Monokai theme, based on the original and famous Monokai color scheme.","Afterglow theme, based on the original afterglow color scheme.","Fluoro theme, high in pink."]},{pattern:"^option[\\s]savegame[\\s][\\w]$",readable:"option savegame (option)",desc:"save, load or reset your current game progression.",execute:"game.save.consoleHandler",options:["save","load","hardreset","export","import"],optionIndex:2,optionsDesc:["Save your current game state in your browser.","Load your save from your browser.","Start from scratch, reset everything.","Export your save code.","Import your save code."]},{pattern:"^option[\\s]code[\\s][\\w]$",readable:"option code (option)",desc:"redeem a code to earn some bonuses.",execute:"game.options.redeemCode",options:["userinput"],userInputExpected:"number",optionIndex:2,optionsDesc:["check skidinc twitter account for codes."]}]},{name:"clear",desc:"clear console logs.",pattern:"^clear$",optionsNeeded:!1,execute:"game.console.clear()"},{name:"help",desc:"show a list of available commands.",pattern:"^help$",optionsNeeded:!1,execute:"game.console.help()"},{name:"watch",desc:"watch an ad to increase your ads bonus multiplier for 6h (only on Kongregate).",pattern:"^watch$",optionsNeeded:!1,execute:"game.kongregate.watch()"}],game.options={typedEffect:!1,background:!1,view:"default",toggleBackground:function(e){"enable"==e?(game.options.background=!0,$(".matrix-effect").fadeIn("slow")):(game.options.background=!1,$(".matrix-effect").fadeOut("slow"))},toggleBlackbars:function(e){"enable"==e?$(".screen").removeClass("no-blackbars"):$(".screen").addClass("no-blackbars")},toggleTyped:function(e){"enable"==e?game.options.typedEffect=!0:game.options.typedEffect=!1,game.console.print("Typed effect <b>"+e+"</b>.")},setFps:function(e){e>60?game.console.print("You can't put a value greater than <b>60 fps</b>.","error"):e<1?game.console.print("You can't put a value lower than <b>1 fps</b>.","error"):(game.fps=e,game.interval=1e3/game.fps,clearInterval(game.intervals.core),game.intervals.core=setInterval(function(){game.core()},game.interval),game.console.print("FPS set to <b>"+e+"</b>. If the game lag, try to reduce fps."))},changeStats:function(e){var a=$("#col-1 > p"),t=$("#col-2 > p"),r=$("#col-3 > p");switch(e){
case"default":$(a[0]).attr("id","stats-money").html(""),$(a[1]).attr("id","stats-level").html(""),$(a[2]).attr("id","stats-exp").html(""),$(t[0]).attr("id","stats-timemult").html(""),$(t[1]).attr("id","stats-moneymult").html(""),$(t[2]).attr("id","stats-expmult").html(""),$(r[0]).attr("id","stats-reputation").html(""),$(r[1]).attr("id","stats-totalmoney").html(""),$(r[2]).attr("id","stats-prestigied").html("");break;case"servers":$(a[0]).attr("id","stats-money").html(""),$(a[1]).attr("id","stats-level").html(""),$(a[2]).attr("id","stats-moneymult").html(""),$(t[0]).attr("id","stats-irccost").html(""),$(t[1]).attr("id","stats-vmcost").html(""),$(t[2]).attr("id","stats-expmult").html(""),$(r[0]).attr("id","stats-ircowned").html(""),$(r[1]).attr("id","stats-vmowned").html(""),$(r[2]).attr("id","stats-timemult").html("");break;case"botnet":$(a[0]).attr("id","stats-money").html(""),$(a[1]).attr("id","stats-exp").html(""),$(a[2]).attr("id","stats-level").html(""),$(t[0]).attr("id","stats-infectionspersec").html(""),$(t[1]).attr("id","stats-zombieowned").html(""),$(t[2]).attr("id","").html(""),$(r[0]).attr("id","stats-botnetpower").html(""),$(r[1]).attr("id","stats-powermult").html(""),$(r[2]).attr("id","").html("")}game.options.view=e,game.console.print("Stats view switched to <b>"+e+"</b>.")},changeTheme:function(e){switch(e){case"default":$(".navbar").attr("class","navbar navbar-default navbar-fixed-top"),$(".console").attr("class","console");break;case"black":game.console.black?($(".navbar").attr("class","navbar navbar-default navbar-fixed-top dark"),$(".console").attr("class","console dark")):game.console.print("This theme is locked, you need to buy it.","error");break;case"monokai":game.console.monokai?($(".navbar").attr("class","navbar navbar-default navbar-fixed-top monokai"),$(".console").attr("class","console monokai")):game.console.print("This theme is locked, you need to buy it.","error");break;case"afterglow":game.console.afterglow?($(".navbar").attr("class","navbar navbar-default navbar-fixed-top afterglow"),$(".console").attr("class","console afterglow")):game.console.print("This theme is locked, you need to buy it.","error");break;case"fluoro":game.console.afterglow?($(".navbar").attr("class","navbar navbar-default navbar-fixed-top fluoro"),$(".console").attr("class","console fluoro")):game.console.print("This theme is locked, you need to buy it.","error")}},redeemCode:function(e){var a=(new Date).getTime();switch(e){case 1337:var t=new Date(2016,12,25).getTime();a<t&&game.console.print("TODO")}}},game.save={salt:"U2tpZEluYw==",interval:6e4,toSave:["game.before","game.fps","game.version","game.player.money","game.player.totalMoney","game.player.reputation","game.player.level","game.player.exp","game.player.expReq","game.console.monokai","game.console.black","game.console.afterglow","game.console.fluoro","game.options.typedEffect","game.options.background","game.servers.vm.owned","game.servers.irc.owned","game.servers.zombie.owned","game.virus.list.boza.send","game.virus.list.happy99.send","game.virus.list.memz.send","game.virus.list.faggot.send","game.virus.list.magistr.send","game.hack.hackers.grocer.owned","game.hack.hackers.business_man.owned","game.hack.hackers.cashier.owned","game.hack.hackers.banker.owned","game.hack.hackers.jeweler.owned","game.hack.hackers.mark.owned","game.hack.hackers.steve.owned","game.hack.hackers.larry.owned","game.hack.hackers.grocer.progress","game.hack.hackers.business_man.progress","game.hack.hackers.cashier.progress","game.hack.hackers.banker.progress","game.hack.hackers.jeweler.progress","game.hack.hackers.mark.progress","game.hack.hackers.steve.progress","game.hack.hackers.larry.progress","game.botnet.power","game.kongregate.boughtMults"],consoleHandler:function(e){return"save"==e?game.save.save("user"):"load"==e?game.save.load():"hardreset"==e?game.save.reset():"export"==e?game.save.export():"import"==e?game.save.import():void 0},export:function(){if(null===localStorage.getItem("SkidInc"+game.save.salt))return void game.console.print("There is no save.","error");game.save.save();var e=localStorage.getItem("SkidInc"+game.save.salt);prompt("Here is your save code, keep it in a safe place! Use ctrl+a and ctrl+c to copy it.",e)},import:function(){var save=prompt("Put your save code, it will be loaded.");if("string"==typeof save){for(var saveDecrypted=JSON.parse(atob(save)),i=0;i<game.save.toSave.length;i++){if("undefined"==typeof saveDecrypted[i]||saveDecrypted[i].name!==game.save.toSave[i])return;var path=game.save.toSave[i].split("."),str="game";path.shift();for(var e=0;e<path.length;e++)str+='["'+path[e]+'"]';eval(str+"="+saveDecrypted[i].value)}game.console.print("Save successfully loaded.","success")}},save:function(calledFrom){for(var save="",values=[],i=0;i<game.save.toSave.length;i++){var item={name:game.save.toSave[i],value:eval(game.save.toSave[i])};values.push(item)}save=btoa(JSON.stringify(values)),localStorage.setItem("SkidInc"+game.save.salt,save),"user"==calledFrom&&game.console.print("Save-game successfully saved.","success")},load:function(from){if(null!==localStorage.getItem("SkidInc"+game.save.salt))for(var saveLoaded=localStorage.getItem("SkidInc"+game.save.salt),saveDecrypted=JSON.parse(atob(saveLoaded)),i=0;i<game.save.toSave.length;i++){if("undefined"==typeof saveDecrypted[i]||saveDecrypted[i].name!==game.save.toSave[i])return;var path=game.save.toSave[i].split("."),lastItemPath=path[path.length-1],str="game";path.shift();for(var e=0;e<path.length;e++)str+='["'+path[e]+'"]';eval(str+"="+saveDecrypted[i].value)}},reset:function(){var e=confirm("Do you really want to do a hard-reset? You'll start from the beginning with nothing.");if(e){var a=game.intervals.save;window.onbeforeunload=null,clearInterval(a),localStorage.removeItem("SkidInc"+game.save.salt),location.reload()}}};