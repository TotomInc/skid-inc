function cap(t){return t.charAt(0).toUpperCase()+t.slice(1)}function initMatrixBackground(){$("body").prepend('<div id="matrix" class="matrix-effect" style="display: none;">'),$("#matrix").append('<canvas id="canvas">'),M.init(),$("#matrix").fadeIn("slow")}function randomInclusive(t,e){return Math.floor(Math.random()*(e-t+1))+t}function initSnowBackground(){function t(){o.clearRect(0,0,i,a),o.fillStyle="rgba(255, 255, 255, 0.8)",o.beginPath();for(var t=0;t<r;t++){var n=s[t];o.moveTo(n.x,n.y),o.arc(n.x,n.y,n.r,0,2*Math.PI,!0)}o.fill(),e()}function e(){M+=.01;for(var t=0;t<r;t++){var e=s[t];e.y+=Math.cos(M+e.d)+1+e.r/2,e.x+=2*Math.sin(M),(e.x>i+5||e.x<-5||e.y>a)&&(t%3>0?s[t]={x:Math.random()*i,y:-10,r:e.r,d:e.d}:Math.sin(M)>0?s[t]={x:-5,y:Math.random()*a,r:e.r,d:e.d}:s[t]={x:i+5,y:Math.random()*a,r:e.r,d:e.d})}}$("body").prepend('<div id="matrix" class="matrix-effect" style="display: none;">'),$("#matrix").append('<canvas id="canvas">');var n=document.getElementById("canvas"),o=n.getContext("2d"),i=window.innerWidth,a=window.innerHeight;n.width=i,n.height=a;for(var r=500,s=[],c=0;c<r;c++)s.push({x:Math.random()*i,y:Math.random()*a,r:4*Math.random()+1,d:Math.random()*r});var M=0;setInterval(t,33),$("#matrix").fadeIn("slow")}function msToTime(t){var e=(parseInt(t%1e3/100),parseInt(t/1e3%60)),n=parseInt(t/6e4%60),o=parseInt(t/36e5%24);return o=o<10?"0"+o:o,n=n<10?"0"+n:n,e=e<10?"0"+e:e,o+":"+n+":"+e}var beautify={prefixes:["m","b","t","q","Q","s","S","o","n","D","UD","DD","TD","qD","QD","sD","SD","OD","ND","V","UV","DV","TV","qV","QV","sV","SV","OV","NV","T","UT","DT","TT","qT","QT","sT","ST","OT","NT"],beautify:function(t,e){if(t>=1e6){var n=Math.floor(this.logFloor(t)/3),o=this.beautify(t/Math.pow(10,3*n),e);return o+""+this.prefixes[n-2]}return 0===t||"undefined"==typeof t||isNaN(t)?0:this.numberWithCommas(t.toFixed(e))},numberWithCommas:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+(e[1]?"."+e[1]:"")},logFloor:function(t){for(var e=0;t>=10;)e++,t/=10;return e},fix:function(t,e){return t>=1e6?beautify.beautify(t,3):t<1e6&&"number"==typeof e?beautify.beautify(t,e):t<1e6&&"number"!=typeof e?beautify.beautify(t,2):void 0},varInit:function(){window.fix=beautify.fix}};beautify.varInit(),String.prototype.cap=function(){return this.charAt(0).toUpperCase()+this.slice(1)},function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var o=(new Date).getTime(),i=Math.max(0,16-(o-t)),a=window.setTimeout(function(){e(o+i)},i);return t=o+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var M={settings:{COL_WIDTH:15,COL_HEIGHT:25,VELOCITY_PARAMS:{min:1,max:3},CODE_LENGTH_PARAMS:{min:5,max:15},videoActive:!1},animation:null,c:null,ctx:null,lineC:null,video:null,WIDTH:window.innerWidth,HEIGHT:window.innerHeight,COLUMNS:null,canvii:[],font:"30px matrix-code",letters:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","$","+","-","*","/","=","%",'"',"'","#","&","_","(",")",",",".",";",":","?","!","\\","|","{","}","<",">","[","]","^","~"],codes:[],createCodeLoop:null,codesCounter:0,init:function(){M.c=document.getElementById("canvas"),M.ctx=M.c.getContext("2d"),M.c.width=M.WIDTH,M.c.height=M.HEIGHT,M.ctx.shadowBlur=0,M.ctx.fillStyle="#000",M.ctx.fillRect(0,0,M.WIDTH,M.HEIGHT),M.ctx.font=M.font,M.COLUMNS=Math.ceil(M.WIDTH/M.settings.COL_WIDTH);for(var t=0;t<M.COLUMNS;t++)M.codes[t]=[],M.codes[t][0]={open:!0,position:{x:0,y:0},strength:0};M.loop(),M.createCode(),window.onresize=function(){window.cancelAnimationFrame(M.animation),M.animation=null,M.ctx.clearRect(0,0,M.WIDTH,M.HEIGHT),M.codesCounter=0,M.WIDTH=window.innerWidth,M.HEIGHT=window.innerHeight,M.init()}},loop:function(){M.animation=requestAnimationFrame(function(){M.loop()}),M.draw()},draw:function(){var t,e,n,o,i,a;M.settings.videoActive?(M.ctx.shadowColor="rgba(0, 0, 0, 0.5)",M.ctx.fillStyle="rgba(0, 0, 0, 0.5)",M.ctx.fillRect(0,0,M.WIDTH,M.HEIGHT),M.ctx.globalAlpha=.2,M.ctx.drawImage(M.video,0,0,M.WIDTH,M.HEIGHT),M.ctx.globalAlpha=1):(M.ctx.shadowColor="rgba(0, 0, 0, 0.5)",M.ctx.fillStyle="rgba(0, 0, 0, 0.5)",M.ctx.fillRect(0,0,M.WIDTH,M.HEIGHT)),M.ctx.globalCompositeOperation="source-over";for(var r=0;r<M.COLUMNS;r++)M.codes[r][0].canvas&&(t=M.codes[r][0].velocity,e=M.codes[r][0].canvas.height,n=M.codes[r][0].position.x,o=M.codes[r][0].position.y-e,i=M.codes[r][0].canvas,a=i.getContext("2d"),M.ctx.drawImage(i,n,o,M.settings.COL_WIDTH,e),M.codes[r][0].position.y-e<M.HEIGHT?M.codes[r][0].position.y+=t:M.codes[r][0].position.y=0)},createCode:function(){if(M.codesCounter>M.COLUMNS)return void clearTimeout(M.createCodeLoop);var t=M.randomFromInterval(0,100),e=M.assignColumn();if(e){var n=M.randomFromInterval(M.settings.CODE_LENGTH_PARAMS.min,M.settings.CODE_LENGTH_PARAMS.max),o=Math.random()*(M.settings.VELOCITY_PARAMS.max-M.settings.VELOCITY_PARAMS.min)+M.settings.VELOCITY_PARAMS.min,i=M.letters.length;M.codes[e][0].position={x:e*M.settings.COL_WIDTH,y:0},M.codes[e][0].velocity=o,M.codes[e][0].strength=M.codes[e][0].velocity/M.settings.VELOCITY_PARAMS.max;for(var a=1;a<=n;a++){var r=M.randomFromInterval(0,i-1);M.codes[e][a]=M.letters[r]}M.createCanvii(e),M.codesCounter++}M.createCodeLoop=setTimeout(M.createCode,t)},createCanvii:function(t){var e,n,o=M.codes[t].length-1,i=o*M.settings.COL_HEIGHT,a=(M.codes[t][0].velocity,M.codes[t][0].strength),r=document.createElement("canvas"),s=r.getContext("2d");r.width=M.settings.COL_WIDTH,r.height=i;for(var c=1;c<o;c++)e=M.codes[t][c],s.globalCompositeOperation="source-over",s.font="30px matrix-code",c<5?(s.shadowColor="hsl(104, 79%, 74%)",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=10,s.fillStyle="hsla(104, 79%, "+(100-5*c)+"%, "+a+")"):c>o-4?(n=c/o,n=1-n,s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.fillStyle="hsla(104, 79%, 74%, "+(n+.3)+")"):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.fillStyle="hsla(104, 79%, 74%, "+a+")"),s.fillText(e,0,i-c*M.settings.COL_HEIGHT);M.codes[t][0].canvas=r},createLines:function(t){var e=0,n=0;for(t.beginPath(),t.lineWidth=1,t.strokeStyle="rgba(0, 0, 0, 0.7)";e<M.HEIGHT;)t.moveTo(0,e),t.lineTo(M.WIDTH,e),e+=5;for(t.lineWidth=.15,t.strokeStyle="rgba(255, 255, 255, 0.7)";n<M.HEIGHT;)t.moveTo(0,n+1),t.lineTo(M.WIDTH,n+1),n+=5;t.stroke()},assignColumn:function(){var t=M.randomFromInterval(0,M.COLUMNS-1);return!!M.codes[t][0].open&&(M.codes[t][0].open=!1,t)},randomFromInterval:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},snapshot:function(){M.createLines(M.ctx),window.open(M.c.toDataURL())}};